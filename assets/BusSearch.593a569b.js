import{u as N,n as y,o as a,h as n,i as t,A as d,k as l,t as $,B as H,c as S,v as x,x as L,C as b,D as j,F as m,E as f,T as z,y as E,z as B,g as D,q as g,p as T,l as I,G as R,H as A}from"./vendor.2023f16f.js";import"./index.c1adbcfd.js";import{_ as k}from"./plugin-vue_export-helper.5a098b48.js";const V=[{CityName:"\u81FA\u5317\u5E02",City:"Taipei"},{CityName:"\u65B0\u5317\u5E02",City:"NewTaipei"},{CityName:"\u6843\u5712\u5E02",City:"Taoyuan"},{CityName:"\u81FA\u4E2D\u5E02",City:"Taichung"},{CityName:"\u81FA\u5357\u5E02",City:"Tainan"},{CityName:"\u9AD8\u96C4\u5E02",City:"Kaohsiung"},{CityName:"\u57FA\u9686\u5E02",City:"Keelung"},{CityName:"\u65B0\u7AF9\u5E02",City:"Hsinchu"},{CityName:"\u65B0\u7AF9\u7E23",City:"HsinchuCounty"},{CityName:"\u82D7\u6817\u7E23",City:"MiaoliCounty"},{CityName:"\u5F70\u5316\u7E23",City:"ChanghuaCounty"},{CityName:"\u5357\u6295\u7E23",City:"NantouCounty"},{CityName:"\u96F2\u6797\u7E23",City:"YunlinCounty"},{CityName:"\u5609\u7FA9\u7E23",City:"ChiayiCounty"},{CityName:"\u5609\u7FA9\u5E02",City:"Chiayi"},{CityName:"\u5C4F\u6771\u7E23",City:"PingtungCounty"},{CityName:"\u5B9C\u862D\u7E23",City:"YilanCounty"},{CityName:"\u82B1\u84EE\u7E23",City:"HualienCounty"},{CityName:"\u81FA\u6771\u7E23",City:"TaitungCounty"},{CityName:"\u91D1\u9580\u7E23",City:"KinmenCounty"},{CityName:"\u6F8E\u6E56\u7E23",City:"PenghuCounty"},{CityName:"\u9023\u6C5F\u7E23",City:"LienchiangCounty"}];var Z="/cats-on-the-bus/assets/search.d278d31e.svg",F="/cats-on-the-bus/assets/heart.f6ef7b90.svg",P="/cats-on-the-bus/assets/no-fav-search.b6add2da.svg",U="/cats-on-the-bus/assets/arrow.b5a22d8d.svg";const Y=["id","onClick"],q={class:"flex"},G={class:"w-12 text-black"},O={class:"option-wrapper"},J=["onClick"],Q={props:{type:{type:String,defalt:"web"}},setup(c){const _=N(),h=V,i=y(()=>_.state.openSelect),r=y(()=>_.state.currentCity),p=()=>_.dispatch("setSelect",!i.value),v=async o=>{o.City!==r.value.City&&_.dispatch("getAllBus",o)};return v(V[0]),(o,s)=>(a(),n(m,null,[t("div",{id:`select${c.type}`,class:"input-wrapper ml-1",onClick:H(p,["stop"])},[t("div",q,[t("div",G,d(l(r).CityName),1),t("img",{src:U,alt:"arrow",class:$(["ease cursor-pointer",{expand:l(i)}])},null,2)])],8,Y),l(i)?(a(),S(E,{key:0,to:`#select${c.type}`},[x(z,{id:"option",name:"slide"},{default:L(()=>[b(t("div",O,[(a(!0),n(m,null,f(l(h),e=>(a(),n("div",{key:e,class:"select-btn",onClick:u=>v(e)},d(e.CityName),9,J))),128))],512),[[j,l(i)]])]),_:1})],8,["to"])):B("",!0)],64))}};var K=k(Q,[["__scopeId","data-v-76455a3c"]]),W="/cats-on-the-bus/assets/dir.cd1f05a8.svg";const w=c=>(T("data-v-172d05ce"),c=c(),I(),c),X={class:"sheet-wrapper"},tt={class:"sheet input-sheet flex-grow-0"},et={class:"bus-title"},st=w(()=>t("div",{class:"m-slide-toggle"},null,-1)),at=w(()=>t("img",{src:W,alt:"back"},null,-1)),it=[at],ot={class:"z-10"},nt={class:"tab"},lt={class:"stop-info"},ct={class:"text-sm pl-8 pb-1"},rt={class:"progress-line"},ut=w(()=>t("div",{class:"dot bg-blue-2"},null,-1)),dt={key:0,class:"line"},_t={emits:["back"],setup(c,{emit:_}){D();const h=N(),i=g(0),r=y(()=>h.state.routeData.filter(s=>s.Direction===i.value)),p=y(()=>h.state.currentRoute),v=s=>s.arrival<0?{text:"\u672A\u767C\u8ECA",class:"init"}:s.arrival===0?{text:"\u5373\u5C07\u9032\u7AD9",class:"incoming"}:isNaN(Math.round(s.arrival))?{text:"\u7121\u9032\u7AD9\u8CC7\u8A0A",class:"init"}:{text:Math.round(s.arrival),class:"show-time"},o=()=>{h.dispatch("resetRoute"),_("back")};return(s,e)=>(a(),n("div",X,[t("div",tt,[t("div",et,[st,t("button",{onClick:o},it),t("p",ot,d(l(p).RouteName.Zh_tw),1)]),t("div",nt,[t("button",{onClick:e[0]||(e[0]=u=>i.value=0)},d(l(p).DepartureStopNameZh),1),t("button",{onClick:e[1]||(e[1]=u=>i.value=1)},d(l(p).DestinationStopNameZh),1)]),t("div",lt,[(a(!0),n(m,null,f(l(r),u=>(a(),n("div",{key:u.StopID,class:"flex items-center pb-5"},[t("div",{class:$(["pill",v(u).class])},d(v(u).text),3),t("span",ct,d(u.StopName.Zh_tw),1)]))),128)),t("div",rt,[(a(!0),n(m,null,f(l(r),(u,M)=>(a(),n("div",{key:u.StopID},[ut,M!==l(r).length-1?(a(),n("div",dt)):B("",!0)]))),128))])])])]))}};var pt=k(_t,[["__scopeId","data-v-172d05ce"]]);const C=c=>(T("data-v-edfd9696"),c=c(),I(),c),ht={key:0,class:"sheet-wrapper"},vt={class:"sheet input-sheet flex-grow-0"},yt={class:"pt-4"},mt=C(()=>t("button",null,[t("img",{src:Z,alt:"search icon",class:"pt-3 pr-2",width:"50"})],-1)),Ct={class:"pt-4 mr-2"},ft={class:"m-input-sheet"},gt={class:"m-input"},Nt=C(()=>t("img",{src:Z,alt:"search icon",class:"inline-block pt-1",width:"33"},null,-1)),xt=[Nt],bt={key:0,class:"sheet fav-sheet flex-grow relative"},kt=C(()=>t("p",{class:"pl-10 pt-6 text-left text-gray-6 font-medium"},"\u641C\u5C0B\u7D50\u679C",-1)),wt=["onClick"],$t={class:"text-left text-sm pl-4 font-medium",style:{width:"241px"}},St={class:"text-blue-2"},Bt=C(()=>t("div",{class:"pt-2"},[t("img",{src:F,alt:"heart"})],-1)),Dt={key:1,class:"sheet no-fav-sheet flex-grow relative"},Tt=C(()=>t("div",{class:"no-fav"},[t("img",{src:P,alt:"no-fav",class:"mx-auto"}),t("p",null,"\u76EE\u524D\u6C92\u6709\u4EFB\u4F55\u6536\u85CF\u7684\u8DEF\u7DDA"),t("p",null,"\u5C07\u5E38\u7528\u7684\u516C\u8ECA\u8DEF\u7DDA\u52A0\u5165\u300E\u6211\u7684\u6700\u611B\u300F")],-1)),It=[Tt],Rt={setup(c){D();const _=N(),h=y(()=>_.state.allBus);g([2]);const i=g(""),r=g(!1),p=y(()=>{const o=[];return i.value.length>0&&h.value.forEach(s=>{s.name.indexOf(i.value)>=0&&o.push(s)}),o}),v=async o=>{await _.dispatch("getRoute",o),r.value=!0};return(o,s)=>r.value?(a(),S(pt,{key:1,onBack:s[4]||(s[4]=e=>r.value=!1)})):(a(),n("div",ht,[t("div",vt,[t("div",yt,[x(K)]),mt,t("div",Ct,[b(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>i.value=e),type:"text",class:"border-b-2",placeholder:"\u8ACB\u8F38\u5165\u516C\u8ECA\u865F\u78BC"},null,512),[[R,i.value,void 0,{trim:!0}]])])]),t("div",ft,[x(K,{type:"mobile"}),t("div",gt,[t("button",{onClick:s[1]||(s[1]=(...e)=>o.searchBus&&o.searchBus(...e))},xt),b(t("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>i.value=e),type:"text",class:"border-b-2 ml-4 inline-block",placeholder:"\u8ACB\u8F38\u5165\u516C\u8ECA\u865F\u78BC",onKeyup:s[3]||(s[3]=A((...e)=>o.searchBus&&o.searchBus(...e),["enter"]))},null,544),[[R,i.value,void 0,{trim:!0}]])])]),l(p).length!==0?(a(),n("div",bt,[kt,(a(!0),n(m,null,f(l(p),e=>(a(),n("div",{key:e.name,class:"fav-box",onClick:u=>v(e)},[t("div",$t,[t("p",St,d(e.name),1),t("p",null,d(e.DepartureStopNameZh)+"\uFF0D"+d(e.DestinationStopNameZh),1)]),Bt],8,wt))),128))])):(a(),n("div",Dt,It))]))}};var Mt=k(Rt,[["__scopeId","data-v-edfd9696"]]);export{Mt as default};
